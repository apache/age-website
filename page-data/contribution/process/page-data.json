{"componentChunkName":"component---src-templates-docs-template-js","path":"/contribution/process/","result":{"data":{"markdownRemark":{"html":"<div class=\"ReleaseProcess\">\n<div class=\"ReleaseProcessBox\">\n<h1>Creating a release</h1>\n<p>This document includes the steps needed to be taken by the release manager to create a successful release candidate.</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Update the Postgres version extension</h2>\n<p>Update the version numbers in the AGE source code, so Postgres can identify which version number of AGE it is using. The extension number in Postgres and Apache releases are synchronized.</p>\n<p>Files to update:</p>\n<p>Step 1 - Rename CREATE EXTENSION script name:<br>\nRename age--Y.Y.Y.sql to age--X.X.X.sql</p>\n<p>Step 2 - Update Makefile:<br>\nUpdate line 62 in Makefile from: DATA = age--Y.Y.Y.sql to: DATA age--X.X.X.sql</p>\n<p>Step 3 - Update age.control:<br>\nUpdate line 18 in age.control from default_version = 'Y.Y.Y' to: default_version = 'X.X.X'</p>\n<p>Step 4 Add Release Notes:<br>\nUpdate RELEASE with X.X.X release notes</p>\n<p>Step 5 update documentation:<br>\nupdate line 46 in doc/conf.py:<br>\nfrom:<br>\nrelease = u'Y.Y.Y'<br>\nto:<br>\nrelease = u'X.X.X'</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Creating a release branch</h2>\n<p>The first step is to create a new release branch. The branch must follow the following naming pattern release/X.X.X where X.X.X is the release version number. In this example upstream is the apache/incubator-age github repository.<br>\ngit branch release/X.X.X upstream/master<br>\ngit checkout release/X.X.X<br>\ngit push upstream release/X.X.X:release/X.X.X</p>\n<h2>Creating the release artifacts</h2>\n<p>Checkout the tag to a clean folder to avoid files that are ignored by git and remove the git folder. Next up is creating the tar.gz file<br>\ngit clone --depth 1 --branch X.X.X-rcX<br>\n<a href=\"https://github.com/apache/incubator-age.git\">https://github.com/apache/incubator-age.git</a> apache-age-X.X.Xincubating<br>\nrm -rf apache-age-X.X.X-incubating/.git<br>\ntar -czvf apache-age-X.X.X-incubating-src.tar.gz apache-ageX.X.X-incubating</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Sign the artifacts</h2>\n<p>This part assumes you already have created and registered keys to sign the artifacts, for more information on creating and adding your keys see here<br>\ngpg --armor --default-key <a href=\"mailto:username@apache.org\">username@apache.org</a> --output apacheage-X.X.X-incubating-src.tar.gz.asc --detach-sig apache-ageX.X.X-incubating-src.tar.gz<br>\nsha512sum apache-age-X.X.X-incubating-src.tar.gz > apache-ageX.X.X-incubating-src.tar.gz.sha512<br>\n# Validate<br>\ngpg --verify apache-age-X.X.X-incubating-src.tar.gz.asc<br>\nsha512sum -c apache-age-X.X.X-incubating-src.tar.gz.sha512</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Staging the files</h2>\n<p>First step is to check out the SVN directory, and create a new directory<br>\nsvn co <a href=\"https://dist.apache.org/repos/dist/dev/incubator/age\">https://dist.apache.org/repos/dist/dev/incubator/age</a><br>\nage_release<br>\ncd age_release<br>\nsvn mkdir apache-age-x.x.x-incubating-rcx<br>\nNow copy over the following files in this new directory<br>\napache-age-X.X.X-incubating-src.tar.gz.sha512<br>\napache-age-X.X.X-incubating-src.tar.gz.asc<br>\napache-age-X.X.X-incubating-src.tar.gz</p>\n<p>Add and commit the files to svn<br>\nsvn add *<br>\nsvn status<br>\nsvn commit -m 'Add release files for Apache age X.XX-rcX'<br>\nCheck if the files are uploaded here</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Send a mail to dev list to announce new release candidate</h2>\n<p>Mail Template<br>\nSubject: [VOTE] Release Apache age (incubating) X.X.X-rcX<br>\nTO: <a href=\"mailto:dev@age.apache.org\">dev@age.apache.org</a></p>\n<p>Hi All,</p>\n<p>[ INCLUDE SOME TEXT ]</p>\n<p>Build instructions can be found in the README included.</p>\n<p>The tag to be voted on is X.X.X-rcX [REPLACE TAG] (commit[COMMIT HASH]):<br>\n[ URL TO TAG COMMIT ]<br>\nThe release files, including signatures, digests, etc. can be found at:<br>\n[ INCLUDE URL TO DIST RC FOLDER ]<br>\n<a href=\"https://dist.apache.org/repos/dist/dev/incubator/age/apacheage-X.X.X-incubating-rcX/\">https://dist.apache.org/repos/dist/dev/incubator/age/apacheage-X.X.X-incubating-rcX/</a></p>\n<p>The SHA512 Checksum for these artifacts is:<br>\n[ INCLUDE CHECKSUM FROM SHA512 FILE ]</p>\n<p>Release artifacts are signed with the following key:<br>\n[ ADD URL TO YOUR KEY ON A PUBLIC KEYSERVER ]</p>\n<p>For more information about the contents of this release, see:<br>\n[ ADD URL TO RELEASE IN JIRA ]</p>\n<p>Please vote on releasing this package as Apache AGE (incubating) X.XX!</p>\n<p>The vote is open for 72 hours and passes if a majority of at least 3 +1 PMC votes are cast.</p>\n<p>[ ] +1 Release this package as Apache age (incubating) X.XX<br>\n[ ] +0 No opinion<br>\n[ ] -1 Do not release this package because ...</p>\n<p>Best Regards,<br>\n[ YOUR NAME ]</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Send a result mail to the dev mailing list</h2>\n<p>Subject: [RESULT] [VOTE] Release Apache age (incubating) X.XXrcX<br>\nTO: <a href=\"mailto:dev@age.apache.org\">dev@age.apache.org</a></p>\n<p>Hello Team,</p>\n<p>The vote to release Apache age (incubating) X.X.X - RCX has passed/failed.</p>\n<p>+1 (binding)<br>\n+1 (non-binding)<br>\n+0<br>\n-1 (binding)<br>\n-1 (non-binding)</p>\n<p>Thank you for reviewing this release candidate.<br>\nCheers,<br>\n[ YOUR NAME ]</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>While in incubator</h2>\n<h2>Send a mail to the general incubator list</h2>\n<p>The mail to the IPMC is almost identical to our vote mail, a few extra details are added:</p>\n<ul>\n<li>Vote and Result mail thread<br>\nSubject: [VOTE] Release Apache age (incubating) X.XX-rcX<br>\nTO: <a href=\"mailto:general@incubator.apache.org\">general@incubator.apache.org</a></li>\n</ul>\n<p>Hi All,</p>\n<p>[ INCLUDE SOME TEXT ]</p>\n<p>Build instructions can be found in the README included.<br>\nage community vote and result threads:</p>\n<p>Vote:<br>\n[ URL TO VOTE FROM <a href=\"https://lists.apache.org/list.html?dev@age.apache.org\">https://lists.apache.org/list.html?dev@age.apache.org</a> ]<br>\nResult:<br>\n[ URL TO VOTE RESULT FROM <a href=\"https://lists.apache.org/list.html?dev@age.apache.org\">https://lists.apache.org/list.html?dev@age.apache.org</a> ]<br>\nThe tag to be voted on is X.X.X-rcX [REPLACE TAG] (commit[COMMIT HASH]):<br>\n[URL TO TAG COMMIT]</p>\n<p>The release files, including signatures, digests, etc. can be found at:<br>\n[ INCLUDE URL TO DIST RC FOLDER ]<br>\n<a href=\"https://dist.apache.org/repos/dist/dev/incubator/age/apacheage-X.X.X-incubating-rcX/\">https://dist.apache.org/repos/dist/dev/incubator/age/apacheage-X.X.X-incubating-rcX/</a></p>\n<p>The SHA512 Checksum for these artifacts is:<br>\n[ INCLUDE CHECKSUM FROM SHA512 file ]</p>\n<p>Release artifacts are signed with the following key:<br>\n[ ADD URL TO YOUR KEY ON A PUBLIC KEYSERVER ]</p>\n<p>For more information about the contents of this release, see:<br>\n[ ADD URL TO RELEASE IN JIRA ]</p>\n<p>Please vote on releasing this package as Apache age (incubating) X.X.X!</p>\n<p>The vote is open for 72 hours and passes if a majority of at least 3 +1 PMC votes are cast.<br>\n[ ] +1 Release this package as Apache age (incubating) X.XX<br>\n[ ] +0 No opinion<br>\n[ ] -1 Do not release this package because ...</p>\n<p>Best Regards,<br>\n[ YOUR NAME ]</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>Creating a key</h2>\n<p>To generate and publish a key follow these steps, it is recommended to use your apache email as key alias.<br>\ngpg --gen-key<br>\ngpg -k [username]@apache.org</p>\n</div>\n<div class=\"ReleaseProcessBox\">\n<h2>get the ID for your key</h2>\n<p>gpg --send-keys --keyserver php.mit.edu [KEY ID]<br>\ngpg --send-keys --keyserver keyserver.ubuntu.com [KEY ID]</p>\n<p>Next step is to add your key to the key file in the Apache SVN repository.<br>\nsvn co <a href=\"https://dist.apache.org/repos/dist/dev/incubator/age\">https://dist.apache.org/repos/dist/dev/incubator/age</a><br>\nage_release<br>\ncd age_release<br>\ngpg --list-sigs [KEY ID] >> KEYS<br>\ngpg --armor --export [KEY ID] >> KEYS<br>\nsvn commit -m \"added new public key to KEYS file\"</p>\n</div>","frontmatter":{"title":null}}},"pageContext":{"id":"ef91cba0-095d-5823-8ea0-042be1719b19"}},"staticQueryHashes":["4080856488"]}